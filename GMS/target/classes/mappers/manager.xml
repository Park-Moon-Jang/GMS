<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
  <mapper namespace="com.bit.app">
  
    <!-- 전체 목록 -->
<!--     <select id="boardlistAll" resultType="com.bit.app.vo.BoardVO"> -->
<!--         SELECT * FROM BOARD1 ORDER BY no desc, writedate desc -->
<!--     </select> -->

   <insert id="insertItem" parameterType="com.goods.app.vo.ItemVO" >
    INSERT INTO item (item_no, item_name, amount, category_no, company_no, price, carry_date) VALUES (#{item_no}, #{item_name}, #{amount}, #{category_no}, #{company_no}, #{price}, #{carry_date})
   </insert>
   
   <select id="getnewItemlist" resultType="com.goods.app.vo.ItemVO">
   SELECT * FROM gms_pj.item order by carry_date desc limit 3
   </select>
   
   
<!--    SELECT * FROM gms_pj.item where category_no = #{category_No} and company_no = #{company_No} and carry_date between #{from_Date} and #{to_Date} -->
   <select id="getItemlist" parameterType="java.util.Map" resultType="com.goods.app.vo.ItemVO">
	SELECT * FROM gms_pj.item
		    <![CDATA[
		 where category_no =  #{category_No} 
		and	company_no = #{company_No}
		and carry_date between date_add(#{from_Date}, interval 1 day) and  date_add(#{to_Date}, interval 1 day)
		    ]]>
	order by carry_date desc;
   </select>
      <select id="getItemlistNOTCATE" parameterType="java.util.Map" resultType="com.goods.app.vo.ItemVO">
	SELECT * 
	FROM gms_pj.item
	<![CDATA[
	where
		company_no = #{company_No} 
	and 
		 carry_date between date_add(#{from_Date}, interval 1 day) and  date_add(#{to_Date}, interval 1 day)
	]]>	
	order by carry_date desc
   </select>
<!--    carry_date >= #{from_Date} and carry_date <= #{to_Date} -->
      <select id="getItemlistNOTCOMP" parameterType="java.util.Map" resultType="com.goods.app.vo.ItemVO">
	SELECT * 
	FROM gms_pj.item
	<![CDATA[
	where
		category_no =  #{category_No}
	and 
		 carry_date between date_add(#{from_Date}, interval 1 day) and  date_add(#{to_Date}, interval 1 day)
	]]>	
	order by carry_date desc
   </select>
      <select id="getItemlistNOT" parameterType="java.util.Map" resultType="com.goods.app.vo.ItemVO">
	SELECT * 
	FROM gms_pj.item
	<![CDATA[
	where
		 carry_date between date_add(#{from_Date}, interval 1 day) and  date_add(#{to_Date}, interval 1 day)
	]]>	
	order by carry_date desc
   </select>
   
   <delete id="deleteOne" parameterType="int">
   delete from item where item_no = #{item_no}
   </delete>
   
   <select id="companySel" resultType="com.goods.app.vo.ItemVO">
   select * from gms_pj.manufacturer 
   </select>
   <select id="categorySel" resultType="com.goods.app.vo.ItemVO">
   select * from gms_pj.item_category
   </select>
   
   
   <select id="checkManager"  resultType="com.goods.app.vo.ManagerVO">
   		SELECT MANAGER_ID,MANAGER_PW FROM MANAGER WHERE MANAGER_ID=#{manager_id} and MANAGER_PW=#{manager_pw}
   </select>
 </mapper>
